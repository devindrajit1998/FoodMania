!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(["./spin"],e):t.Ladda=e(t.Spinner)}(this,(function(t){"use strict";var e=[];function n(n){if(void 0!==n){n.querySelector(".ladda-label")||(n.innerHTML='<span class="ladda-label">'+n.innerHTML+"</span>");var r,i=function(e){var n,r=e.offsetHeight;r>32&&(r*=.8);e.hasAttribute("data-spinner-size")&&(r=parseInt(e.getAttribute("data-spinner-size"),10));e.hasAttribute("data-spinner-color")&&(n=e.getAttribute("data-spinner-color"));var i=.2*r;return new t({color:n||"#fff",lines:12,radius:i,length:.6*i,width:i<7?2:3,zIndex:"auto",top:"50%",left:"50%",className:""})}(n),a=document.createElement("span");a.className="ladda-spinner",n.appendChild(a);var o={start:function(){return n.setAttribute("disabled",""),n.setAttribute("data-loading",""),clearTimeout(r),i.spin(a),this.setProgress(0),this},startAfter:function(t){return clearTimeout(r),r=setTimeout((function(){o.start()}),t),this},stop:function(){return n.removeAttribute("disabled"),n.removeAttribute("data-loading"),clearTimeout(r),r=setTimeout((function(){i.stop()}),1e3),this},remove:function(){return this.isLoading()&&this.stop(),a.parentNode.removeChild(a),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=n.querySelector(".ladda-progress");0===t&&e&&e.parentNode?e.parentNode.removeChild(e):(e||((e=document.createElement("div")).className="ladda-progress",n.appendChild(e)),e.style.width=(t||0)*n.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),n.setAttribute("disabled",""),this},isLoading:function(){return n.hasAttribute("data-loading")},getTarget:function(){return n}};return e.push(o),o}console.warn("Ladda button target must be defined.")}return{bind:function(t,e){e=e||{};var r=[];"string"==typeof t?r=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}(document.querySelectorAll(t)):"object"==typeof t&&"string"==typeof t.nodeName&&(r=[t]);for(var i=0,a=r.length;i<a;i++)!function(){var t=r[i];if("function"==typeof t.addEventListener){var a=n(t),o=-1;t.addEventListener("click",(function(){a.startAfter(1),"number"==typeof e.timeout&&(clearTimeout(o),o=setTimeout(a.stop,e.timeout)),"function"==typeof e.callback&&e.callback.apply(null,[a])}),!1)}}()},create:n,stopAll:function(){for(var t=0,n=e.length;t<n;t++)e[t].stop()}}}));